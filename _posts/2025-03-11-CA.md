---
title: "[CA] Chapter 1: MIPS"

categories: [CS, Computer Architecture, CA, Assembly language]
tags:
  - [CS, c, cpp, Computer Architecture, CA, Assembly language, binary code]
toc: true
toc_sticky: true

date: 2025-03-11
last_modified_at: 2025-03-11
---
âš™ Computer Architecture ê³µë¶€
![alt text](../assets/img/Architecture/Layer.png)
* **System software** enable your **app software** to run on **hardware**
  * System softwareëŠ” applicationê³¼ hardwareë¥¼ ì—°ê²°í•˜ëŠ” ë‹¤ë¦¬ ì—­í• 
* Two type of system sw
  1. **OS**
     1. **Allocates** memory and storage
     2. **Handles I/O** operations
     3. Coordinates concurrent applicaions
  2. **Compiler**
     1. ê³ ê¸‰ ì–¸ì–´ë¡œ ì‘ì„±ëœ í”„ë¡œê·¸ë¨ì„ í•˜ë“œì›¨ì–´ê°€ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ëª…ë ¹ì–´ë¡œ ë³€í™˜
     * ex: `c = a + b;` â†’ `100111010`

## High-level language to Machine Language
---
![alt text](../assets/img/Architecture/High-level.png)
> **High-level** language(C code): Text composed of words and algebraic notation 
> â†“ `Compiler`
> **<span style="color: #008000">Assembly language</span>**: A symbolic representation of **machine instructions**(ëŒ€ì¶© ë´ë„ ì¶”ì¸¡ ê°€ëŠ¥)
> `Assembly language` â†’ `Machine language`
> **<span style="color: #008000">Machine language</span>**: A **binary** representation of machine instructions
* `ê³ ê¸‰ ì–¸ì–´(C) â†’ ì»´íŒŒì¼ëŸ¬ â†’ ì–´ì…ˆë¸”ë¦¬ ì–¸ì–´(MIPS) â†’ ì–´ì…ˆë¸”ëŸ¬ â†’ ê¸°ê³„ì–´`

## Instruction Set
---
* **Instruction**: ì»´í“¨í„° ì–¸ì–´ì˜ ë‹¨ì–´
* **Instruction Set**: íŠ¹ì • ì»´í“¨í„°ê°€ ì´í•´í•˜ëŠ” ëª…ë ¹ì–´ ëª©ë¡
* ë‹¤ë¥¸ ì»´í“¨í„° ì–¸ì–´(Instruction Set)ëŠ” **ì„œë¡œ ìœ ì‚¬í•¨**

## ğŸ’»MIPS ARITHMETIC Instructions
---
* **MIPSì˜ íŠ¹ì§•**
  * ê° ëª…ë ¹ì–´ëŠ” **í•˜ë‚˜ì˜ ì—°ì‚°ë§Œ ìˆ˜í–‰**
  * ê° ëª…ë ¹ì–´ëŠ” **ì •í™•íˆ 3ê°œì˜ ë³€ìˆ˜**ë¥¼ ê°€ì§
  * **ë³µì¡í•œ ì—°ì‚°ì€ ì—¬ëŸ¬ ê°œì˜ ëª…ë ¹ì–´ë¡œ ë¶„í•´**í•´ì•¼ í•¨

##### MIPS ê¸°ë³¸ì ì¸ ì˜ˆì‹œ
```
add a, b, c  # a = b + c
sub a, b, c  # a = b - c
```
**ê·¸ëŸ¼ ì—¬ëŸ¬ ë³€ìˆ˜ì˜ ê²½ìš°ëŠ”?**
```
# C ì–¸ì–´: a = b + c + d + e;

# MIPS ëª…ë ¹ì–´:
add a, b, c  # a = b + c
add a, a, d  # a = a + d
add a, a, e  # a = a + e
```
* ìœ„ì˜ ì˜ˆì‹œì²˜ëŸ¼ **3ê°œì˜ ë³€ìˆ˜ë¡œ ê³„ì‚°**í•˜ë„ë¡ ë¶„í•´í•´ì•¼í•¨!!

##### C í”„ë¡œê·¸ë¨ì„ MIPS ëª…ë ¹ì–´ë¡œ ë³€í™˜í•˜ëŠ” ì˜ˆì œ
**ì˜ˆì œ 1: ê°„ë‹¨í•œ ë§ì…ˆê³¼ ëº„ì…ˆ**
```
# C í”„ë¡œê·¸ë¨:
a = b + c;
d = a - e;

# MIPS ëª…ë ¹ì–´:
add a, b, c
sub d, a, e
```

**ì˜ˆì œ 2: ê´„í˜¸ê°€ í¬í•¨ëœ ë³µì¡í•œ ìˆ˜ì‹**
```
# C í”„ë¡œê·¸ë¨:
f = (g + h) - (i + j);

# MIPS ëª…ë ¹ì–´:
add t0, g, h  # ì„ì‹œ ë³€ìˆ˜ t0ì— g + h ì €ì¥
add t1, i, j  # ì„ì‹œ ë³€ìˆ˜ t1ì— i + j ì €ì¥
sub f, t0, t1 # f = (g + h) - (i + j)
```
> 5ê°œì˜ ë³€ìˆ˜ í•„ìš”, g+hë¥¼ ë‹´ì„ ì„ì‹œ ë³€ìˆ˜ê°€ í•„ìš”í•¨(t0)

### MIPS Registers
---
* MIPS CPUì—ëŠ” **32ê°œì˜ <span style="color: #008000">Registers</span>**ê°€ ìˆìœ¼ë©°, **ê° ë ˆì§€ìŠ¤í„° í¬ê¸°ëŠ” 32bits(32bits ë‹¨ìœ„ëŠ” "word"ë¼ ë¶€ë¦„)**
* ëª…ë ¹ì–´ëŠ” ì´ë¥¼ **í”¼ì—°ì‚°ì**ë¡œ í™œìš©
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚name     â”‚register numberâ”‚ ìš©ë„                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ $zero   â”‚ 0         â”‚ ìƒìˆ˜ 0                      â”‚
â”‚ $v0-$v1 â”‚ 2-3       â”‚ ê²°ê³¼ê°’ê³¼ ìˆ˜ì‹ ê³„ì‚°           â”‚
â”‚ $a0-$a3 â”‚ 4-7       â”‚ ì¸ì(Arguments)              â”‚
â”‚ $t0-$t7 â”‚ 8-15      â”‚ ì„ì‹œ ë³€ìˆ˜                    â”‚
â”‚ $s0-$s7 â”‚ 16-23     â”‚ ì €ì¥ëœ ë³€ìˆ˜                  â”‚
â”‚ $t8-$t9 â”‚ 24-25     â”‚ ì¶”ê°€ ì„ì‹œ ë³€ìˆ˜               â”‚
â”‚ $gp     â”‚ 28        â”‚ ì „ì—­ í¬ì¸í„°                  â”‚
â”‚ $sp     â”‚ 29        â”‚ ìŠ¤íƒ í¬ì¸í„°                  â”‚
â”‚ $fp     â”‚ 30        â”‚ í”„ë ˆì„ í¬ì¸í„°                â”‚
â”‚ $ra     â”‚ 31        â”‚ ë¦¬í„´ ì£¼ì†Œ                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

* ìœ„ì˜ registerì— ë”°ë¼ ì˜ˆì‹œ 2ë¥¼ ë‹¤ìŒì²˜ëŸ¼ ë°”ê¿”ë³¼ ìˆ˜ ìˆë‹¤
```
# f,g,h,i,jë¥¼ ê°ê° $s0, $s1, $s2, $s3, $s4ì— ì €ì¥ (#s0~7ì€ ì €ì¥ëœ ë³€ìˆ˜)
add t0, $s1, $s2   # ì„ì‹œ ë³€ìˆ˜ t0ì— g + h ì €ì¥
add t1, $s3, $s4  # ì„ì‹œ ë³€ìˆ˜ t1ì— i + j ì €ì¥
sub $s0, $t0, $t1 # f = (g + h) - (i + j)
```

### MIPS Constant
---
* constantë¥¼ ì—°ì‚°ì— ì‚¬ìš©í•˜ê¸° ìœ„í•œ **"immediate operation"** ì œê³µ
* `addi $s3, $s3, 4` â†’ `$s3 = $s3 + 4`
* ì„¸ê°€ì§€ ì—°ì‚° ë¹„êµ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ëª…ë ¹ì–´      â”‚ ì˜ˆì‹œ         â”‚ ì˜ë¯¸           â”‚ ì„¤ëª…           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ add        â”‚ add $s1,$s2,$s3 â”‚ $s1=$s2+$s3 â”‚ ë ˆì§€ìŠ¤í„° 3ê°œ ì‚¬ìš© â”‚
â”‚ subtract   â”‚ sub $s1,$s2,$s3 â”‚ $s1=$s2-$s3 â”‚ ë ˆì§€ìŠ¤í„° 3ê°œ ì‚¬ìš© â”‚
â”‚ add immediateâ”‚ addi $s1,$s2,20â”‚ $s1=$s2+20  â”‚ ìƒìˆ˜ ë”í•˜ê¸°      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```