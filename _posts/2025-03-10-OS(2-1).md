---
title: "[OS] Operating System(2-1): Service, Interface, System calls, Link/Loaders"

categories: [CS, Operating System, OS]
tags:
  - [CS, OS, Operating System]
toc: true
toc_sticky: true

date: 2025-03-10
last_modified_at: 2025-03-10
---
>ğŸ€ ìš´ì˜ì²´ì œ ì „ê³µ ìˆ˜ì—… ì •ë¦¬

## Operating System Services
---
ğŸ“š OS **<u>Provide an environment for the execution of programs and services</u> to programs and users**

* **Helpful Services to Users**
  1. **<span style="color: #008000">UI(User Interface)</span>**
    * Almost all OSes provide a user interface
    * Types of UI:
      1. **Command-Line interface(CLI)**
      2. **Graphics User interface(GUI)**
      3. **touch-screen**
      4. **Batch**: ì¼ê´„ ì²˜ë¦¬ ë°©ì‹
  2. **<span style="color: #008000">Program execution</span>**
    * OS must be able to **load programs into memory, run them, and terminate them**
      * termination can be **normal** or **abnormal(indicating error)**
  3. **<span style="color: #008000">I/O operations</span>** 
    * Running programs may <u>require I/O operations(Ex: File access, I/O device control) </u> 
  4. **<span style="color: #008000">File-system manipulation</span>**
    * OS provides **file management services** for programs 
    * Key function:
      * **Reading/Writing** files and directories
      * **Creating and deleting** files
      * **Searching and listing** file information
      * **Managing file permissions**
  5. **<span style="color: #008000">Communication</span>**
    * Processes **exchange information** either on **the same compute**r or **over a network**
    * Communication **methods**:
        1. **Shared Memory**: Multiple processes share a **<u>common memory space</u>** to communicate
        2. **Message Passing**: The OS **moves packets** to facilitate communication(ex: email)  
  6. **<span style="color: #008000">Error detection</span>**
    * The OS must **continuously** monitor and detect errors in the system
    * OS ì—­í• :
      * ì˜¤ë¥˜ ê°ì§€ í›„ ì ì ˆí•œ ì¡°ì¹˜ ìˆ˜í–‰
      * ì˜¤ë¥˜ê°€ ë°œìƒí•´ë„ **ì‹œìŠ¤í…œì´ ì˜¬ë°”ë¥´ê²Œ ìœ ì§€**ë˜ë„ë¡ ë³´ì¥
      * **ë””ë²„ê¹… ê¸°ëŠ¥ ì œê³µ**: ì‚¬ìš©ì ë° ê°œë°œìì˜ ë¬¸ì œ í•´ê²° ëŠ¥ë ¥ í–¥ìƒ
  7. **<span style="color: #008000">Resource allocation</span>**
    * ì—¬ëŸ¬ ì‚¬ìš©ì í˜¹ì€ ì—¬ëŸ¬ ê°œì˜ ë§ì€ í”„ë¡œê·¸ë¨ì´ë‚˜ ì¥ì¹˜ë¥¼ ë™ì‹œì— ëŒë¦´ ë•Œ, **ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ëŠ” í•œì •ì **ì„
    * ê·¸ë˜ì„œ ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ë¥¼ <u>ì ì ˆí•˜ê²Œ í• ë‹¹</u>í•´ì•¼í•¨
    * Key resources managed by the OS:
      * **CPU cycle**: CPUë¥¼ ìµœëŒ€í•œ ë°°ë¶„í•´ì„œ GPUì˜ í™œìš©ë¥ ì„ ë†’ì—¬ì•¼í•¨
      * **main memory**
      * **file storage**
      * **I/O device**
  8. **<span style="color: #008000">Logging</span>**
    * **Tracks which users consume how many resources**
    * Helps optimize system performance and security
  9. **<span style="color: #008000">Protection and security</span>**
    * ë©€í‹°ìœ ì € ì‹œìŠ¤í…œ ë° ë„¤íŠ¸ì›Œí¬ í™˜ê²½ì—ì„œ **ì •ë³´ ì†Œìœ ìê°€ ë°ì´í„° ì‚¬ìš©ì„ ì œì–´**í•  ìˆ˜ ìˆë„ë¡ ë³´ì¥
    * ë™ì‹œì— ì‹¤í–‰ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ë“¤ì´ ì„œë¡œ ê°„ì„­í•˜ì§€ ì•Šë„ë¡ ë³´í˜¸
    * protectionê³¼ securityëŠ” ë‹¤ë¥¸ ê°œë…
      * **protection**: **Ensures controlled access** to system resources
      * **security**:
        * **Protects the system** from unauthorized access(<u>requires user authentication</u>)
        * **Defends I/O devices** from unauthorized access attempts
        * 
![alt text](../assets/img/OS/Operating_System_Service.png)
>View of Operating_System_Service

## User and Operating System-Interface
---
### CLI(Command Line Interface)
---
ğŸ“š **<span style="color: #008000">CLI or Command interpreter</span>**: ì‚¬ìš©ìê°€ **ì§ì ‘ ëª…ë ¹ì„ ì…ë ¥í•˜ì—¬ ìš´ì˜ì²´ì œì™€ ìƒí˜¸ì‘ìš©**í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤
  * **ì»¤ë„ ë‚´ë¶€**ì—ì„œ êµ¬í˜„ë  ìˆ˜ë„ ìˆê³ , **ì‹œìŠ¤í…œ í”„ë¡œê·¸ë¨**ìœ¼ë¡œ êµ¬í˜„ë  ìˆ˜ë„ ìˆìŒ.
  * **CLI**ëŠ” ì—¬ëŸ¬ í˜•íƒœë¡œ êµ¬í˜„ë  ìˆ˜ ìˆìœ¼ë©°, ì´ë¥¼ **<span style="color: #008000">Shells</span>**ì´ë¼ê³  í•¨.
  * Types of CLI Commands:
    * **Built-in Commands(ë‚´ì¥ ëª…ë ¹ì–´)**
      * Commands that are **part of the shell itself**(Ex: `cd`, `echo`, `exit`)
    * **Externel programs(ì™¸ë¶€ í”„ë¡œê·¸ë¨ í˜¸ì¶œ)**
      * The shell executes external programs(Ex: `ls`, `grep`, `vim`)
      * **Adding new features does <u>not require modifying the shell</u>**

### GUI(Graphical User Interface)
---
ğŸ“š **<span style="color: #008000">GUI</span>**: A **desktop metaphor interface**, designed **for user-friendly interaction**
  * ë³´í†µ **ë§ˆìš°ìŠ¤, í‚¤ë³´ë“œ, ëª¨ë‹ˆí„°**ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¡°ì‘
  * **GUI Components**:
    * **Icons**: Represent files, programs, and actions
    * **Mouse interactions**: Provide Options, execute functions, open folders, etc
  * **Invented at <u>Xerox PARC</u>**
  * Modern systems offer <u>**both CLI and GUI**</u>
  * Example:
    * **Microsoft Windows** â†’ **Primarily** GUI, but **includes** CLI
    * **Apple Mac OS X** â†’ Uses <span style="color: #008000">Aqua</span> GUI, but supports CLI with UNIX shell
    * **Unix and Linux** â†’ Primarily **CLI**, but support **GUI** options like **CDE, KDE, and GNOME**

  * ì£¼ìš” GUI í™˜ê²½:
    1. **<span style="color: #008000">KDE(K Desktop Environment)</span>** â†’ Linux ê¸°ë°˜ì˜ ë°ìŠ¤í¬í†± í™˜ê²½.
    2. **<span style="color: #008000">GNOME(Gnu Network Object Model Environment)</span>** â†’ Linux ë° Unix ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©ë˜ëŠ” GUI í™˜ê²½, ë¦¬ëˆ…ìŠ¤ì˜ Graphical User InterfaceëŠ” `GNOME`
    3. **<span style="color: #008000">CDE(Common Desktop Environment)</span>** â†’ LUnix ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©ë˜ëŠ” GUI í™˜ê²½

### Touchscreen Interface
---
* Touchscreen devices require new interfaces
  * Mouse not possible or not desired
  * Actions and selection based on gestures
  * Virtual keyboard for text entry

## System Calls(â­)
---
ğŸ“š **<span style="color: #008000">System Calls</span>**: 
  * <u>**Programming interface** to access services</u> provided by the OS
  * Typically written in **high-level languages like C or C++**
  * Programs do not use <u>direct system calls</u>
  * Instead, they access system services through **high-level API(Application Programming Interface)**
  * Common API Types: **Win32 API(for Windows)**, **POSIX API(for UNIX, Linux, macOS ë“±ì˜ POSIX-baseed system)**, **JAVA API(for Java Virtual Machine(JVM))**

![alt text](../assets/img/OS/System_call_sequence.png)
>System call sequence to copy the contents of one file to another file

![alt text](../assets/img/OS/EX_stAPI.png)
>Example of Standard API `read()`

### System Call Implementation
---
* ê° ì‹œìŠ¤í…œ í˜¸ì¶œì€ <u>íŠ¹ì • ìˆ«ìì™€ ì—°ê´€ë¨</u>
* **<span style="color: #008000">System-call interface</span>** maintains a **table** indexed by these number
* **Role of system call interface**
  * System call interface **invokes(í˜¸ì¶œ) the intended system call** <u>in the OS kernel</u>
  * Returns the **status** of the system call and any **return values**

* **Caller Does Not Need to Know Implementation**
  * The caller **need know nothing** about how the system call is implemented
  * It only needs to **follow the API** and **understand the expected results**
  * Most OS interface **details are hidden** from the programmer by API(information encapsulation/ì •ë³´ ì€ë‹‰í™”)
  * System calls are **managed by run-time support library(ì»´íŒŒì¼ëŸ¬ì™€ í•¨ê»˜ ì œê³µë˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬)**

![alt text](../assets/img/OS/API_Syscall.png)
>`open()` ì‹œìŠ¤í…œ ì½œì„ ìš”ì²­í•˜ë©´ ë²ˆí˜¸ì— ë”°ë¼ì„œ tableì— mappingì„ í•œë‹¤  
> ê·¸ë¦¬ê³  ê·¸ ì¸ë±ìŠ¤ì— ìˆëŠ” ì£¼ì†Œê°’ì„ ë”°ë¼ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê³  ë¦¬í„´ì„ í•´ì¤€ë‹¤

### System Call Parameter Passing
---
* System Calls often require **more information**
* Exact type and number of parameters vary depending on OS and system call

* Three Methods for **Passing Parameters to the OS**
  * (1) **Registers**
    * registerì— parameterë¥¼ ì €ì¥í•˜ì—¬ ì „ë‹¬, ê°€ì¥ ê°„ë‹¨í•˜ê³  ë¹ ë¦„(CPUê°€ ê°€ì¥ ë¹¨ë¦¬ ì ‘ê·¼ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸)
    * tableì´ë‚˜ block ê°™ì€ í° íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•˜ê¸°ì—ëŠ” register ìš©ëŸ‰ì˜ í•œê³„ê°€ ìˆìŒ
  * (2) **Address of Block/Table**
    * Parameters are **stored in a block(or table) in memory**
    * The <u>**address** of the block is passed in a register</u> (`Call by reference` of C/C++)
    * Used by Linux and Solaris
  * (3) **Stack**
    * **Parameters are pushed onto the stack** by the program
    * The OS **pops them from the stack to retrieve the values**
  * Block and stack methods do **not limit the number or length of parameters**

![alt text](../assets/img/OS/Parameter_bytable.png)
>1ë²ˆì§¸ ë¼ì¸ì€ register, 2ë²ˆì§¸ëŠ” xì£¼ì†Œì˜ tableì„ passingí•œ ë¼ì¸

### Types of System Calls
---
#### **Process control**
* `create`/`terminate` process
* `end`, `abort`
* `load`, `execute`
* `get`/`set` process attributes
* wait for time
* wait event, signal event
* allocate and free memory
* Dump memory error
* **Debugger** for determining **bugs**, **single step** execution
* **Locks** for managing access to shared data b/w processes
  * ë‹¤ì¤‘ í”„ë¡œì„¸ìŠ¤ í™˜ê²½ì—ì„œ ê³µìœ  ë°ì´í„°ì— ëŒ€í•œ ë™ì‹œ ì ‘ê·¼ì„ ë°©ì§€(Lock)
  * ì—¬ëŸ¬ processê°€ ê°™ì€ ë°ì´í„°ì— read/writeë¥¼ í•œë‹¤ë©´ ë°ì´í„°ê°€ ì—‰í‚¤ê¸°ë•Œë¬¸

#### File management
* Device managementì˜ ì¶”ìƒí™”(ìƒìœ„ ê°œë…)
* `Create`/`delete` file
* `open`/`close` file
* `read`, `write`, `reposition`
* `get` and `set` file attributes

#### Device management
* `request`/`release` device
* `read`, `write`, `reposition`
* `get` and `set` device attributes
* logically `attach` or `detach` devices

#### Information maintenance
* `get`/`set` time or date
* `get`/`set` system data
* `get` and `set` process, file, or device attributes

#### Communications
* `create`, `delete` communication connection
* `send`, `receive` messages
  * **message passing model**: to send messages to a host name or process name(Ex: client â†’ server)
  * **Shared-memory model**: Allows processes to create and access shared memory
* `transfer status information`
* `attach` and `detach` remote(ì›ê²©) devices

#### Protection
* Control access to resources
* `get` and `set` permissions
* `allow` and `deny` user access
* 
![alt text](../assets/img/OS/EX_SC.png)

![alt text](../assets/img/OS/Standard_c.png)
>`printf`ë¥¼ ì“°ê²Œ ë˜ë©´ I/Oê°€ ë°œìƒë˜ì–´ OS serviceë¥¼ ë°›ê²Œ ë¨
>`printf`ì˜ `write`ë¼ëŠ” system callì„ ì‚¬ìš©í•¨ (ì§ì ‘ writeë¥¼ ì“°ë ¤ë©´ fd, bufë“±ì„ ì§ì ‘ ì§€ì •í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— ë²ˆê±°ë¡œì›€)

## System Services(=System Utilities)
---
ğŸ“šOSëŠ” System Programs(=System Utilities)ì„ í†µí•´ ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ì—¬ **í¸ë¦¬í•œ ì‹¤í–‰ í™˜ê²½(convenient environment)**ì„ ì¡°ì„±í•¨
  * ëŒ€ë¶€ë¶„ì˜ ìœ ì €ë“¤ì€ OSë¥¼ **`system call`ì´ ì•„ë‹Œ `system programs`ë¡œ ì •ì˜**ëœë‹¤. 

1. **File manipulation**
  * `Create`, `delete`, `copy`, `rename`, `print`, `dump`, and `list` files
2. **Status Information**
  * **Retrieve system info**(date, time, memory, disk space, users)
  * Performance **monitoring, logging, debugging**
  * Uses **registry** to store and retrieve <u>configuration information(ì„¤ì • ì •ë³´)</u>
3. **File Modification**
  * Provide Text editors to create and modify files
  * Commands to `search` and `transform` text content
4. **Programming-Language Support**
  * Includes `compilers`, `assemblers`, `debuggers`, `interpreters`
5. **Program Loading and Execution**
  * Uses **loaders, linkage editors, and debugging systems**
6. **Communications**
  * Provides **virtual connections** among processes, users, and systems
  * Enables messaging, remote login, and file transfers
7. **Background Services**
  * ì‹œìŠ¤í…œ ë¶€íŒ… ì‹œ ìë™ìœ¼ë¡œ ì‹¤í–‰ë¨
  * ì¼ë¶€ ì„œë¹„ìŠ¤ëŠ” ì‹œìŠ¤í…œ ì‹œì‘ í›„ ì¢…ë£Œë˜ë©°, ì¼ë¶€ëŠ” ê³„ì† ì‹¤í–‰ë¨
  * Includes disk checking, process scheduling, error logging, and printing
  * **Runs in user context, not kernel context**(ì»¤ë„ exec â†’ background service exec)
  * Known as **services, subsystems, <span style="color: #008000">daemons</span>**
8.  **Application Programs**
  * User-executed programs that are not part of the OS
  * Launched via command-line, mouse clicks, or other user interactions

### Linkers and Loaders (â­)
---
#### Linkers
---
* Source code is compiled into **<span style="color: #008000">relocatable object files</span>**
  * **relocatable object file**: ì ˆëŒ€ ì£¼ì†Œê°’ì´ ì•„ë‹ˆë¼ **ìƒëŒ€ ì£¼ì†Œ/ì‹¬ë³¼ë§ ì£¼ì†Œ**ë¥¼ ì‚¬ìš©í•´ì„œ <u>ì–´ëŠ ë©”ëª¨ë¦¬ì—ë‚˜ ì¬ë°°ì¹˜ê°€ ê°€ëŠ¥í•œ object file</u>
* **<span style="color: #008000">Linker</span>** combines multiple object files into a <u>single executable</u> file
* Also includes libraries('s code) if necessary

#### Loaders
---
* Executable file is stored in **secondary storage**
* ì‹¤í–‰ì„ ìœ„í•´ ë°˜ë“œì‹œ **loader**ê°€ memoryì— ì ì¬í•´ì•¼ í•¨
* memoryì— ì ì¬í•˜ê¸° ìœ„í•´ **relocation**ê³¼ì •ì—ì„œ programì˜ final addressesë¥¼ assigní•˜ê³ , ê·¸ addressì— ë§ê²Œ codeì™€ dataë¥¼ ìˆ˜ì •í•¨

* **Dynamically Linked Libraries(DLLs)**
  * í”„ë¡œê·¸ë¨ë“¤ì€ ê±°ì˜ ë‹¤ í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•¨
  * í”„ë¡œê·¸ë¨ë§ˆë‹¤ í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë¹„íš¨ìœ¨ì„ ì—†ì• ê¸° ìœ„í•´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ shareí•˜ê¸°ë¡œ í•¨
  * Modern OSs donâ€™t embed libraries into executables
  * **DLLs**ë¥¼ ì‚¬ìš©í•˜ì—¬ <u>**í•„ìš”í•  ë•Œë§Œ ì ì¬**í•˜ê³ , ì—¬ëŸ¬ í”„ë¡œê·¸ë¨ì—ì„œ **shared**</u>
* The OS knows **how to load and execute programs based on standard formats(í‘œì¤€ ì‹¤í–‰ íŒŒì¼ í˜•ì‹)**

![alt text](../assets/img/OS/Role_Linkers_Loaders.png)
>link and loader's role

âœ… Why Applications Are Operating System Specific
* A program compiled on one **OS usually does not run on another**
* Each OS has **unique system calls and file formats**
ê·¸ëŸ¼ **OS ê´€ê³„ì—†ì´ ëŒì•„ê°€ëŠ” í”„ë¡œê·¸ë¨**ì€ ì—†ëŠ”ê°€?
* **Multi-Operating System Apps**
  * **interpreted languages**(e.g., `Python`, `Ruby`)
  * **VM-based languages**(e.g., `Java`)
  * **standard languages**(e.g., `C`) and <u>compile separately for each OS</u>
* **Application Binary Interface(ABI)**
  * APIì²˜ëŸ¼ CPU ë° OS í™˜ê²½ì—ì„œ **binary codeê°€ interact**í•˜ëŠ” ë°©ì‹ì„ ì •ì˜